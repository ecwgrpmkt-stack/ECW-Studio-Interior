/* =========================================
   1. GLOBAL RESET & VIEWER STYLES
   ========================================= */
html, body {
    margin: 0; height: 100%; font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
}

#app { display: flex; height: 100%; width: 100%; position: relative; background: black; }
#viewer { flex: 1; height: 100%; z-index: 1; outline: none; position: relative; }

/* SIDEBAR */
#sidebar {
    width: 170px; background: #1a1a1a; z-index: 20; border-right: 1px solid #333;
    display: flex; flex-direction: column; height: 100%;
}
.sidebar-title {
    color: #fff; padding: 15px 5px; font-size: 11px; font-weight: bold;
    text-transform: uppercase; text-align: center; border-bottom: 1px solid #333; background: #111;
}
#thumbPanel { overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 12px; flex: 1; }
.thumb {
    width: 100%; height: 90px; object-fit: cover; border: 2px solid transparent; 
    border-radius: 4px; cursor: pointer; opacity: 0.6; transition: all 0.2s;
}
.thumb:hover { opacity: 1; }
.thumb.active { border-color: #3b82f6; opacity: 1; }

/* CANVAS & TOOLBAR */
#drawingCanvas {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 30; pointer-events: none; visibility: hidden; cursor: crosshair;
}
#drawingCanvas.active { visibility: visible; pointer-events: auto; }

#drawingToolbar {
    position: absolute; top: 20px; right: 20px; display: flex; flex-direction: column; gap: 6px;
    z-index: 110; background: rgba(0, 0, 0, 0.75); padding: 8px; border-radius: 6px; 
    border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(5px); align-items: center;
}
.tool-btn {
    width: 34px; height: 34px; border-radius: 4px; border: 1px solid rgba(255, 255, 255, 0.3); 
    background: rgba(255, 255, 255, 0.1); color: white; cursor: pointer; display: flex; 
    align-items: center; justify-content: center; transition: all 0.2s;
}
.tool-btn:hover { background: rgba(255, 255, 255, 0.3); }
.tool-btn.active { background: #3b82f6; border-color: #3b82f6; }

/* UX OVERLAYS */
#idleIndicator {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    z-index: 40; text-align: center; pointer-events: none; opacity: 0; transition: opacity 0.5s;
}
#idleIndicator.visible { opacity: 1; }
.hand-icon { font-size: 50px; animation: blinkSwipe 2s infinite ease-in-out; margin-bottom: 10px; }
.drag-text { color: white; background: rgba(0,0,0,0.4); padding: 5px 10px; border-radius: 4px; font-weight: bold; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
@keyframes blinkSwipe { 0%, 100% { opacity: 0.4; transform: translateX(-10px); } 50% { opacity: 1; transform: translateX(10px); } }

/* LOADER */
.loader-overlay {
    position: fixed; inset: 0; background: #000; z-index: 2000; display: flex;
    flex-direction: column; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.loader-overlay.active { opacity: 1; pointer-events: all; }
.spinner {
    width: 50px; height: 50px; border: 4px solid rgba(255,255,255,0.3);
    border-top: 4px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px;
}
.loader-text { color: white; font-weight: bold; font-size: 14px; letter-spacing: 2px; text-transform: uppercase; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }


/* =========================================
   2. LOGIN & ADMIN STYLES
   ========================================= */
body.login-body, body.admin-body {
    background: radial-gradient(circle at top right, #1e293b, #0f172a); color: white; display: flex; flex-direction: column; overflow: auto; min-height: 100vh;
}
.login-container { width: 100%; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.login-header { text-align: center; margin-bottom: 40px; }
.login-header h1 { font-size: 3rem; margin: 0; color: #fff; letter-spacing: 2px; }
.access-split { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; }
.access-card {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);
    padding: 30px; border-radius: 12px; width: 300px; text-align: center; transition: transform 0.3s;
}
.access-card:hover { transform: translateY(-5px); border-color: rgba(255,255,255,0.3); }
.access-card h2 { color: #3b82f6; margin-top: 0; }
.access-btn {
    display: inline-block; width: 100%; padding: 12px 0; background: #fff; color: #000;
    text-decoration: none; font-weight: bold; border-radius: 6px; margin-top: 20px; border: none; cursor: pointer; box-sizing: border-box;
}
.access-btn:hover { background: #e0e0e0; }
.dev-btn { background: #3b82f6; color: white; }
.dev-btn:hover { background: #2563eb; }
input[type="text"], input[type="password"] {
    width: 100%; padding: 12px; margin-bottom: 10px; background: rgba(0,0,0,0.3);
    border: 1px solid rgba(255,255,255,0.1); color: white; border-radius: 4px; box-sizing: border-box; outline: none;
}
.error-msg { color: #ef4444; display: none; margin-top: 10px; font-size: 0.9rem; }
.shake { animation: shake 0.5s; }
@keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }

/* Admin Base UI */
:root { --accent: #3b82f6; --glass: rgba(255, 255, 255, 0.05); --border: rgba(255, 255, 255, 0.1); }
.admin-card { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid var(--border); max-width: 1000px; margin: 40px auto; border-radius: 24px; padding: 40px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
.config-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; margin-bottom: 30px; }
.input-group { display: flex; flex-direction: column; gap: 8px; }
.input-group label { font-size: 10px; text-transform: uppercase; color: #94a3b8; letter-spacing: 1px; }
.field-row { display: flex; gap: 8px; }
.field-row input { flex: 1; font-family: monospace; }
.field-row input[readonly] { color: #475569; cursor: not-allowed; }
.btn { background: var(--accent); color: white; border: none; padding: 12px 18px; border-radius: 8px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px; }
.btn-secondary { background: rgba(255,255,255,0.1); }
.btn:hover { transform: translateY(-2px); opacity: 0.9; }

/* Admin Table */
.table-wrap { overflow-x: auto; margin-top: 20px; }
.image-table { width: 100%; border-collapse: collapse; }
.image-table th { text-align: left; color: #94a3b8; font-size: 12px; padding: 15px; border-bottom: 1px solid var(--border); }
.image-table td { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.02); vertical-align: middle; }
.badge { padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; }
.badge.success { background: #22c55e33; color: #22c55e; }
.badge.warning { background: #ef444433; color: #ef4444; }
.admin-thumb { width: 60px; height: 40px; border-radius: 6px; object-fit: cover; border: 1px solid var(--border); }

/* Modals */
#rename-modal, #loading-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 1000; }
.modal-content { background: #1e293b; padding: 30px; border-radius: 20px; width: 400px; border: 1px solid var(--border); }
